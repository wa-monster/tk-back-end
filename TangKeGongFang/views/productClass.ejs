<%- include header/nav.ejs %>
<link rel="stylesheet" href="//at.alicdn.com/t/font_861634_a6hszxef3i7.css">


<div class="col-sm-10">
    <ol class="breadcrumb">
        <li class="active">商品管理
        </li>
        <li class="active">添加商品分类
        </li>
    </ol>
    <form >
        <div class="panel panel-default">
            <div class="panel-heading">商品类名称</div>
            <div class="panel-body">
                <input type="text" id="name"  class="form-control translate" name="name" placeholder="类型名称">
                <br>

            </div>

            <div class="panel-heading">商品类型（英文）</div>
            <div class="panel-body">
                <input type="text" id="type" class="form-control translate" name="type" placeholder="请输入英文">
                <br>

            </div>
        </div>
        <button id="tijiao" type="button" class="btn btn-lg btn-danger col-sm-offset-10">提交</button>
    </form>
</div>

<script>
    $(document).ready(function() {
        $('#tijiao').click(function(e) {
            e.preventDefault()
            let name =$('#name').val()
            let type = $('#type').val()
            if(name.length === 0){
                alert('必须填写商品类名称')
                return
            }
            if(type.length === 0){
                alert('必须填写商品类型（英文）')
                return
            }
            if(!/^\w+$/.test(type)){
                alert('商品类型（英文）应该为数字，字母或下划线')
                $('#type').val('')
                return
            }
            let data = {
                type:type,
                name:name,
            }
            $.ajax({
                url:"productClass",
                type:"POST",
                data:JSON.stringify(data),
                contentType:'application/json',
                async:true,
                cache:false,
                processData:false,
                success:function(data) {
                    if(data.code === 200){
                        $('#type').val('')
                        $('#name').val('')
                    }
                }

            })
        })
    })
</script>













